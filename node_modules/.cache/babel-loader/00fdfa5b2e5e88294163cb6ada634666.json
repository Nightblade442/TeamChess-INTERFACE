{"ast":null,"code":"import { SET_IMPLICIT_GRANT_CREDENTIALS //SET_QUEUE_LIST,\n//SET_QUEUE\n//  SET_USER_LIST,\n//  SET_USER, SET_USER_CONVERSATIONS\n} from \"../constants/action-types\";\nimport * as moment from 'moment';\n\nfunction appReducer(state, action) {\n  //tell redux how to deal with data in each action case. one for each action.\n  let newstate = null;\n\n  if (action.type === SET_IMPLICIT_GRANT_CREDENTIALS) {\n    //after getting access token \n    newstate = { ...state,\n      loggedIn: true,\n      loginErrorMessage: null,\n      access_token: action.payload.access_token,\n      implicitGrantExpiry: moment().add(86398, 'seconds')\n    };\n  }\n  /*  else if (action.type === SET_USER_LIST) {//once we have gotten list of purecloud users in the org.\r\n        newstate = {\r\n            ...state,\r\n            userList: action.payload\r\n        }\r\n    }\r\n    else if (action.type === SET_USER) { // set the userId + userName of the user which was clicked on in the list displayed in app.\r\n        newstate = {\r\n            ...state,\r\n            userId: action.payload.userId,\r\n            userName: action.payload.userName\r\n        }\r\n        newstate.conversationsUpdated = false;\r\n    }\r\n    else if (action.type === SET_USER_CONVERSATIONS) {//once the purecloud server has responded with the specified users list of active conversations update them here.\r\n        // if(action.payload.conversations != undefined){\r\n        console.log(action.payload.conversations);\r\n        let conversations = filter(action.payload.conversations, state.userId)\r\n        newstate = {\r\n            ...state,\r\n            userConversations: conversations\r\n        }\r\n        newstate.conversationsUpdated = true;\r\n        // }\r\n        /* else{\r\n             newstate = {\r\n                 ...state,\r\n                 userConversations: undefined\r\n             }\r\n             newstate.conversationsUpdated = true; \r\n         }\r\n    }*/\n  else {\n    newstate = { ...state\n    };\n  }\n\n  return newstate;\n}\n\nexport default appReducer;","map":{"version":3,"sources":["C:/Users/Jack/OneDrive/Documents/Long Chess/React Version/src/Redux/reducers/reducer.js"],"names":["SET_IMPLICIT_GRANT_CREDENTIALS","moment","appReducer","state","action","newstate","type","loggedIn","loginErrorMessage","access_token","payload","implicitGrantExpiry","add"],"mappings":"AAAA,SAEIA,8BAFJ,CAGI;AACA;AACF;AACA;AANF,OAOO,2BAPP;AAQA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;;AAEA,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAmC;AACnC;AACI,MAAIC,QAAQ,GAAG,IAAf;;AACA,MAAID,MAAM,CAACE,IAAP,KAAgBN,8BAApB,EAAoD;AAAE;AAClDK,IAAAA,QAAQ,GAAG,EACP,GAAGF,KADI;AAEPI,MAAAA,QAAQ,EAAE,IAFH;AAGPC,MAAAA,iBAAiB,EAAE,IAHZ;AAIPC,MAAAA,YAAY,EAAEL,MAAM,CAACM,OAAP,CAAeD,YAJtB;AAKPE,MAAAA,mBAAmB,EAAEV,MAAM,GAAGW,GAAT,CAAa,KAAb,EAAoB,SAApB;AALd,KAAX;AAOH;AAEH;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAzCI,OA0CK;AACDP,IAAAA,QAAQ,GAAG,EAAE,GAAGF;AAAL,KAAX;AACH;;AAED,SAAOE,QAAP;AACH;;AAED,eAAeH,UAAf","sourcesContent":["import {\r\n\r\n    SET_IMPLICIT_GRANT_CREDENTIALS,\r\n    //SET_QUEUE_LIST,\r\n    //SET_QUEUE\r\n  //  SET_USER_LIST,\r\n  //  SET_USER, SET_USER_CONVERSATIONS\r\n} from \"../constants/action-types\";\r\nimport * as moment from 'moment';\r\n\r\nfunction appReducer(state, action) {\r\n//tell redux how to deal with data in each action case. one for each action.\r\n    let newstate = null;\r\n    if (action.type === SET_IMPLICIT_GRANT_CREDENTIALS) { //after getting access token \r\n        newstate = {\r\n            ...state,\r\n            loggedIn: true,\r\n            loginErrorMessage: null,\r\n            access_token: action.payload.access_token,\r\n            implicitGrantExpiry: moment().add(86398, 'seconds'),\r\n        };\r\n    }\r\n\r\n  /*  else if (action.type === SET_USER_LIST) {//once we have gotten list of purecloud users in the org.\r\n        newstate = {\r\n            ...state,\r\n            userList: action.payload\r\n        }\r\n    }\r\n    else if (action.type === SET_USER) { // set the userId + userName of the user which was clicked on in the list displayed in app.\r\n        newstate = {\r\n            ...state,\r\n            userId: action.payload.userId,\r\n            userName: action.payload.userName\r\n        }\r\n        newstate.conversationsUpdated = false;\r\n    }\r\n    else if (action.type === SET_USER_CONVERSATIONS) {//once the purecloud server has responded with the specified users list of active conversations update them here.\r\n        // if(action.payload.conversations != undefined){\r\n        console.log(action.payload.conversations);\r\n        let conversations = filter(action.payload.conversations, state.userId)\r\n        newstate = {\r\n            ...state,\r\n            userConversations: conversations\r\n        }\r\n        newstate.conversationsUpdated = true;\r\n        // }\r\n        /* else{\r\n             newstate = {\r\n                 ...state,\r\n                 userConversations: undefined\r\n             }\r\n             newstate.conversationsUpdated = true; \r\n         }\r\n    }*/\r\n    else {\r\n        newstate = { ...state };\r\n    }\r\n\r\n    return newstate;\r\n}\r\n\r\nexport default appReducer;"]},"metadata":{},"sourceType":"module"}