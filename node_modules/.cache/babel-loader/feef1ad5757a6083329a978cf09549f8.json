{"ast":null,"code":"import { SET_IMPLICIT_GRANT_CREDENTIALS, SET_BOARD, SET_SELECTED } from \"../constants/action-types\";\nimport * as moment from 'moment';\n\nfunction getMoves(board, pieceLocation) {\n  let piece = board[pieceLocation.x][pieceLocation.y];\n  let possibleMoves = [];\n  let moveTemplate = {\n    pawn_w: [{\n      type: \"SINGLE\",\n      direction: {\n        X: 1,\n        Y: 1\n      },\n      takeable: false,\n      jumpable: false\n    }, {\n      type: \"CONTINUOUS\",\n      direction: {\n        x: 0,\n        y: 1\n      },\n      takeable: true,\n      jumpable: false\n    }]\n  };\n\n  if (moveTemplate[piece.type] !== undefined) {\n    console.log(\"this piece's moves are defined\");\n    let pieceTemplate = moveTemplate[piece.type];\n    pieceTemplate.forEach(moveSet => {});\n  }\n}\n\nfunction appReducer(state, action) {\n  //tell redux how to deal with data in each action case. one for each action.\n  let newstate = null;\n\n  if (action.type === SET_IMPLICIT_GRANT_CREDENTIALS) {\n    //after getting access token \n    newstate = { ...state,\n      loggedIn: true,\n      loginErrorMessage: null,\n      access_token: action.payload.access_token,\n      implicitGrantExpiry: moment().add(86398, 'seconds')\n    };\n  } else if (action.type === SET_BOARD) {\n    newstate = { ...state,\n      board: action.payload.board\n    };\n  } else if (action.type === SET_SELECTED) {\n    if (state.board[action.payload.selected.x][action.payload.selected.y].type !== null) {\n      console.log(\"this is a piece\");\n      getMoves(state.board, action.payload.selected);\n    }\n\n    newstate = { ...state,\n      selectedSquare: action.payload.selected\n    };\n  } else {\n    newstate = { ...state\n    };\n  }\n\n  return newstate;\n}\n\nexport default appReducer;","map":{"version":3,"sources":["C:/Users/Jack/OneDrive/Documents/Long Chess/React Version/src/Redux/reducers/reducer.js"],"names":["SET_IMPLICIT_GRANT_CREDENTIALS","SET_BOARD","SET_SELECTED","moment","getMoves","board","pieceLocation","piece","x","y","possibleMoves","moveTemplate","pawn_w","type","direction","X","Y","takeable","jumpable","undefined","console","log","pieceTemplate","forEach","moveSet","appReducer","state","action","newstate","loggedIn","loginErrorMessage","access_token","payload","implicitGrantExpiry","add","selected","selectedSquare"],"mappings":"AAAA,SACIA,8BADJ,EAEIC,SAFJ,EAGIC,YAHJ,QAIO,2BAJP;AAKA,OAAO,KAAKC,MAAZ,MAAwB,QAAxB;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyBC,aAAzB,EAAuC;AAClC,MAAIC,KAAK,GAAGF,KAAK,CAACC,aAAa,CAACE,CAAf,CAAL,CAAuBF,aAAa,CAACG,CAArC,CAAZ;AACA,MAAIC,aAAa,GAAG,EAApB;AAED,MAAIC,YAAY,GAAG;AACfC,IAAAA,MAAM,EAAG,CACL;AACIC,MAAAA,IAAI,EAAE,QADV;AAEIC,MAAAA,SAAS,EAAE;AACPC,QAAAA,CAAC,EAAE,CADI;AAEPC,QAAAA,CAAC,EAAE;AAFI,OAFf;AAMIC,MAAAA,QAAQ,EAAE,KANd;AAOIC,MAAAA,QAAQ,EAAE;AAPd,KADK,EAWL;AACIL,MAAAA,IAAI,EAAE,YADV;AAEIC,MAAAA,SAAS,EAAG;AACRN,QAAAA,CAAC,EAAG,CADI;AAERC,QAAAA,CAAC,EAAG;AAFI,OAFhB;AAMIQ,MAAAA,QAAQ,EAAE,IANd;AAOIC,MAAAA,QAAQ,EAAE;AAPd,KAXK;AADM,GAAnB;;AAwBC,MAAGP,YAAY,CAACJ,KAAK,CAACM,IAAP,CAAZ,KAA6BM,SAAhC,EAA0C;AACtCC,IAAAA,OAAO,CAACC,GAAR,CAAY,gCAAZ;AACD,QAAIC,aAAa,GAAGX,YAAY,CAACJ,KAAK,CAACM,IAAP,CAAhC;AACAS,IAAAA,aAAa,CAACC,OAAd,CAAsBC,OAAO,IAAI,CAEhC,CAFD;AAGF;AACL;;AAED,SAASC,UAAT,CAAoBC,KAApB,EAA2BC,MAA3B,EAAmC;AAC/B;AACA,MAAIC,QAAQ,GAAG,IAAf;;AACA,MAAID,MAAM,CAACd,IAAP,KAAgBb,8BAApB,EAAoD;AAAE;AAClD4B,IAAAA,QAAQ,GAAG,EACP,GAAGF,KADI;AAEPG,MAAAA,QAAQ,EAAE,IAFH;AAGPC,MAAAA,iBAAiB,EAAE,IAHZ;AAIPC,MAAAA,YAAY,EAAEJ,MAAM,CAACK,OAAP,CAAeD,YAJtB;AAKPE,MAAAA,mBAAmB,EAAE9B,MAAM,GAAG+B,GAAT,CAAa,KAAb,EAAoB,SAApB;AALd,KAAX;AAOH,GARD,MASK,IAAGP,MAAM,CAACd,IAAP,KAAgBZ,SAAnB,EAA6B;AAC9B2B,IAAAA,QAAQ,GAAG,EACP,GAAGF,KADI;AAEPrB,MAAAA,KAAK,EAAGsB,MAAM,CAACK,OAAP,CAAe3B;AAFhB,KAAX;AAIH,GALI,MAMA,IAAGsB,MAAM,CAACd,IAAP,KAAgBX,YAAnB,EAAgC;AAEjC,QAAGwB,KAAK,CAACrB,KAAN,CAAYsB,MAAM,CAACK,OAAP,CAAeG,QAAf,CAAwB3B,CAApC,EAAuCmB,MAAM,CAACK,OAAP,CAAeG,QAAf,CAAwB1B,CAA/D,EAAkEI,IAAlE,KAA2E,IAA9E,EAAmF;AAC/EO,MAAAA,OAAO,CAACC,GAAR,CAAY,iBAAZ;AACAjB,MAAAA,QAAQ,CAACsB,KAAK,CAACrB,KAAP,EAAcsB,MAAM,CAACK,OAAP,CAAeG,QAA7B,CAAR;AACH;;AACDP,IAAAA,QAAQ,GAAG,EACP,GAAGF,KADI;AAEPU,MAAAA,cAAc,EAAGT,MAAM,CAACK,OAAP,CAAeG;AAFzB,KAAX;AAIH,GAVI,MAWA;AACDP,IAAAA,QAAQ,GAAG,EAAE,GAAGF;AAAL,KAAX;AACH;;AAED,SAAOE,QAAP;AACH;;AAED,eAAeH,UAAf","sourcesContent":["import {\r\n    SET_IMPLICIT_GRANT_CREDENTIALS,\r\n    SET_BOARD,\r\n    SET_SELECTED\r\n} from \"../constants/action-types\";\r\nimport * as moment from 'moment';\r\n\r\nfunction getMoves(board, pieceLocation){\r\n     let piece = board[pieceLocation.x][pieceLocation.y];\r\n     let possibleMoves = [];\r\n\r\n    let moveTemplate = {\r\n        pawn_w : [\r\n            {\r\n                type: \"SINGLE\",\r\n                direction: {\r\n                    X: 1,\r\n                    Y: 1\r\n                },\r\n                takeable: false,\r\n                jumpable: false\r\n                \r\n            },\r\n            {\r\n                type: \"CONTINUOUS\",\r\n                direction : {\r\n                    x : 0,\r\n                    y : 1\r\n                },\r\n                takeable: true,\r\n                jumpable: false\r\n            }\r\n        ]\r\n    }\r\n\r\n     if(moveTemplate[piece.type] !== undefined){\r\n         console.log(\"this piece's moves are defined\");\r\n        let pieceTemplate = moveTemplate[piece.type];\r\n        pieceTemplate.forEach(moveSet => {\r\n            \r\n        })\r\n     }\r\n}\r\n\r\nfunction appReducer(state, action) {\r\n    //tell redux how to deal with data in each action case. one for each action.\r\n    let newstate = null;\r\n    if (action.type === SET_IMPLICIT_GRANT_CREDENTIALS) { //after getting access token \r\n        newstate = {\r\n            ...state,\r\n            loggedIn: true,\r\n            loginErrorMessage: null,\r\n            access_token: action.payload.access_token,\r\n            implicitGrantExpiry: moment().add(86398, 'seconds'),\r\n        };\r\n    }\r\n    else if(action.type === SET_BOARD){\r\n        newstate = {\r\n            ...state,\r\n            board : action.payload.board\r\n        }\r\n    }\r\n    else if(action.type === SET_SELECTED){\r\n\r\n        if(state.board[action.payload.selected.x][action.payload.selected.y].type !== null){\r\n            console.log(\"this is a piece\");\r\n            getMoves(state.board, action.payload.selected);\r\n        }\r\n        newstate = {\r\n            ...state,\r\n            selectedSquare : action.payload.selected\r\n        }\r\n    }\r\n    else {\r\n        newstate = { ...state };\r\n    }\r\n\r\n    return newstate;\r\n}\r\n\r\nexport default appReducer;"]},"metadata":{},"sourceType":"module"}